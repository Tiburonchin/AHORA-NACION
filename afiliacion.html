<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Afiliación y Registro — AHORA NACIÓN</title>
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/afiliacion.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>
  <div data-include="includes/header.html"></div>

  <div class="page-hero page-hero--small">
    <div class="container">
      <h1>Afiliación y Registro</h1>
      <p class="subtitle">Completa el formulario para iniciar tu proceso de afiliación. Serás contactado por la Secretaría Nacional de Organización.</p>
    </div>
  </div>

  <main class="container" style="padding:2.5rem 1.5rem; max-width:1000px;">
    <section class="card afiliacion-card">
      <h2>Afiliación y Registro — Formulario interactivo</h2>
      <p class="lead">Sigue el procedimiento establecido en el Estatuto. Completa la checklist y después el formulario paso a paso.</p>

      <!-- I. Requisitos Previos (Checklist) -->
      <div class="checklist" id="checklist">
        <h3>Requisitos Previos</h3>
        <p>Antes de comenzar, confirma que cumples estos requisitos:</p>
        <ul>
          <li><label><input type="checkbox" class="req" data-key="mayor"/> Soy mayor de edad (18 años o más).</label></li>
          <li><label><input type="checkbox" class="req" data-key="no-otra"/> Declaro bajo juramento no pertenecer a otra organización política.</label></li>
          <li><label><input type="checkbox" class="req" data-key="simpatizante"/> He sido simpatizante del partido por al menos tres meses, o cuento con el aval de dos miembros del CEN.</label></li>
        </ul>
        <div class="check-actions">
          <button id="start-application" class="btn-primary" disabled>Comenzar solicitud</button>
        </div>
      </div>

      <!-- II. Formulario multistep -->
      <form id="afiliacion-form" class="multistep-form cta-form" aria-live="polite">
        <div class="progress" aria-hidden="true">
          <div class="progress-bar" id="progress-bar" style="width:0%"></div>
        </div>

        <!-- Step 1: Datos personales -->
        <fieldset class="step" data-step="1">
          <legend>1 — Datos Personales</legend>
          <label for="nombre">Nombre completo*</label>
          <input id="nombre" name="nombre" type="text" required />

          <label for="dni">Documento de identidad (DNI / Pasaporte)*</label>
          <input id="dni" name="dni" type="text" required />

          <label for="dob">Fecha de nacimiento* (dd/mm/aaaa)</label>
          <input id="dob" name="dob" type="date" required />

          <label for="direccion">Domicilio (dirección completa)*</label>
          <input id="direccion" name="direccion" type="text" required />

          <label for="email">Correo electrónico*</label>
          <input id="email" name="email" type="email" required />

          <div class="step-actions">
            <button type="button" class="btn-secondary" data-action="next">Siguiente</button>
          </div>
        </fieldset>

        <!-- Step 2: Declaración jurada y comité territorial -->
        <fieldset class="step" data-step="2" hidden>
          <legend>2 — Declaración jurada y Comité Territorial</legend>
          <p>Lee la declaración y acepta expresamente para continuar.</p>
          <div class="jurada">
            <p>Declaración jurada de adhesión al ideario del partido: Declaro mi adhesión al ideario y me comprometo a participar éticamente en las actividades del partido.</p>
            <label class="checkbox"><input id="acepta-jurada" name="acepta-jurada" type="checkbox" required/> Acepto la declaración jurada</label>
          </div>

          <label for="comite">Selecciona tu Comité Territorial*</label>
          <select id="comite" name="comite" required>
            <option value="">-- Selecciona provincia/distrito --</option>
            <option value="lima-centro">Lima - Lima Metropolitana (distrito)</option>
            <option value="lima-este">Lima - Este (distrito)</option>
            <option value="provincia-1">Provincia: Example 1</option>
            <option value="provincia-2">Provincia: Example 2</option>
          </select>

          <div class="step-actions">
            <button type="button" class="btn-secondary" data-action="prev">Anterior</button>
            <button type="button" class="btn-secondary" data-action="next">Siguiente</button>
          </div>
        </fieldset>

        <!-- Step 3: Avales -->
        <fieldset class="step" data-step="3" hidden>
          <legend>3 — Aval de Afiliados</legend>
          <p>Registra los datos de los dos afiliados activos que te avalan. Si cuentas con aval del CEN, indícalo abajo.</p>

          <label for="aval1">Aval 1 — Nombre y DNI</label>
          <input id="aval1" name="aval1" type="text" placeholder="Nombre - DNI" required />

          <label for="aval2">Aval 2 — Nombre y DNI</label>
          <input id="aval2" name="aval2" type="text" placeholder="Nombre - DNI" required />

          <label for="cen">¿Aval del CEN?</label>
          <select id="cen" name="cen">
            <option value="no">No</option>
            <option value="si">Sí — aval firmado por dos miembros del CEN</option>
          </select>

          <div class="step-actions">
            <button type="button" class="btn-secondary" data-action="prev">Anterior</button>
            <button type="button" class="btn-primary" data-action="review">Revisar y Enviar</button>
          </div>
        </fieldset>

        <!-- Review / submit -->
        <fieldset class="step" data-step="4" hidden>
          <legend>4 — Resumen y Envío</legend>
          <div id="review"></div>
          <div style="margin-top:1rem; color:#333; font-size:0.95rem">Al enviar, tu solicitud será evaluada por el Comité Territorial correspondiente. Revisa el apartado de plazos y procedimiento al final de esta página.</div>
          <div class="step-actions">
            <button type="button" class="btn-secondary" data-action="prev">Anterior</button>
            <button type="submit" class="btn-primary">Enviar solicitud</button>
          </div>
        </fieldset>

      </form>

      <!-- III. Proceso de evaluación y plazos -->
      <section class="proceso" aria-labelledby="proceso-title" style="margin-top:1.5rem;">
        <h3 id="proceso-title">Proceso de evaluación y plazos</h3>
        <ol>
          <li><strong>Evaluación Territorial:</strong> El comité territorial evaluará la solicitud y se pronunciará sobre su procedencia o improcedencia.</li>
          <li><strong>Decisión Final:</strong> La Secretaría Nacional de Organización (SNO) pronunciará la admisión de oficio de forma definitiva.</li>
          <li><strong>Apelación:</strong> Si el comité territorial declara la solicitud improcedente, puedes apelar ante la SNO en un plazo de diez días; la decisión de la SNO agota la vía interna.</li>
        </ol>

        <div class="flow" aria-hidden="false">
          <!-- Diagrama lineal: Comité Territorial -> SNO -> Registro de Afiliados -->
          <svg viewBox="0 0 900 120" class="process-svg" role="img" aria-label="Proceso de evaluación: Comité Territorial, SNO, Registro de Afiliados">
            <defs>
              <marker id="marr" markerWidth="8" markerHeight="8" refX="6" refY="4" orient="auto">
                <path d="M0,0 L8,4 L0,8 z" fill="#c80000" />
              </marker>
            </defs>
            <rect x="20" y="20" width="240" height="60" rx="8" fill="#fff" stroke="#c80000" />
            <text x="140" y="55" text-anchor="middle" fill="#c80000" font-weight="700">Comité Territorial</text>

            <rect x="330" y="20" width="240" height="60" rx="8" fill="#fff" stroke="#c80000" />
            <text x="450" y="55" text-anchor="middle" fill="#c80000" font-weight="700">SNO — Decisión Final</text>

            <rect x="640" y="20" width="240" height="60" rx="8" fill="#fff" stroke="#c80000" />
            <text x="760" y="55" text-anchor="middle" fill="#c80000" font-weight="700">Registro de Afiliados (ROP)</text>

            <line x1="260" y1="50" x2="330" y2="50" stroke="#c80000" stroke-width="3" marker-end="url(#marr)" />
            <line x1="570" y1="50" x2="640" y2="50" stroke="#c80000" stroke-width="3" marker-end="url(#marr)" />
          </svg>
        </div>
      </section>

    </section>
  </main>

  <div data-include="includes/footer.html"></div>

  <script src="js/includes.js" defer></script>
  <script src="js/navbar.js" defer></script>
  <script src="js/participa.js" defer></script>
</body>
</html>
